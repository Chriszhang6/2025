<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #030307;
            --bg-alt: #0c0f16;
            --fg: #f5f5f5;
            --muted: #8d92a1;
            --line: rgba(255, 255, 255, 0.08);
            --progress: #e7f8ff;
            --accent: #a9ff7f;
            --card-bg: rgba(6, 10, 18, 0.78);
            --card-border: rgba(255, 255, 255, 0.06);
            --radius-lg: 20px;
            --radius-sm: 14px;
            --spine-gap: clamp(72px, 8vw, 130px);
        }

        body {
            font-family: "Space Grotesk", "Manrope", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: radial-gradient(circle at 20% 20%, #101629 0%, #05040a 45%, #020203 100%);
            color: var(--fg);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(3, 4, 9, 0.85);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.04);
            padding: 28px clamp(24px, 4vw, 60px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 18px;
            flex-wrap: wrap;
        }

        .header h1 {
            font-size: clamp(1.5em, 3vw, 2.6em);
            font-weight: 500;
            letter-spacing: 0.2em;
            color: var(--fg);
        }

        body.mode-discover {
            overflow-x: hidden;
        }

        .view-toggle {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: rgba(7, 9, 15, 0.9);
        }

        .view-toggle-btn {
            border: none;
            background: transparent;
            color: var(--muted);
            letter-spacing: 0.32em;
            font-size: 0.85em;
            font-weight: 600;
            padding: 12px 18px;
            border-radius: 999px;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .view-toggle-btn.active {
            background: linear-gradient(135deg, rgba(169, 255, 127, 0.12), rgba(46, 55, 80, 0.4));
            color: var(--fg);
            box-shadow: 0 8px 20px rgba(2, 2, 6, 0.5);
        }

        body.mode-list .discover-container {
            display: none;
        }

        body.mode-discover .timeline-container {
            display: none;
        }

        body.mode-discover .year-progress {
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
        }

        .timeline-container {
            margin-top: clamp(140px, 12vh, 220px);
            padding: 0 clamp(24px, 6vw, 140px) 140px;
            position: relative;
            max-width: 1500px;
            margin-left: auto;
            margin-right: auto;
            isolation: isolate;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--line);
            transform: translateX(-50%);
            border-radius: 999px;
        }

        .timeline-progress {
            position: absolute;
            left: 50%;
            top: 0;
            width: 2px;
            background: var(--progress);
            height: 0;
            z-index: 10;
            transform: translateX(-50%);
        }

        .month-divider {
            position: relative;
            text-align: center;
            margin: 90px 0 60px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .month-divider.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .month-divider-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: var(--line);
        }

        .month-title {
            position: relative;
            display: inline-block;
            padding: 8px 32px;
            background: rgba(6, 10, 18, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 999px;
            font-size: clamp(1.3em, 2.4vw, 2em);
            font-weight: 400;
            color: var(--fg);
            letter-spacing: 0.2em;
        }

        .timeline-item {
            position: relative;
            margin-bottom: clamp(70px, 10vw, 140px);
            opacity: 0;
            transition: all 0.9s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform, opacity;
            display: grid;
            grid-template-columns: minmax(0, 1fr) var(--spine-gap) minmax(0, 1fr);
            align-items: flex-start;
        }

        .timeline-item.left {
            transform: translate3d(-35px, 40px, 0);
        }

        .timeline-item.right {
            transform: translate3d(35px, 40px, 0);
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateX(0) translateY(0);
        }

        .timeline-item.left .item-content {
            grid-column: 1 / 2;
            justify-self: end;
            text-align: right;
        }

        .timeline-item.right .item-content {
            grid-column: 3 / 4;
            justify-self: start;
            text-align: left;
        }

        .item-content {
            width: min(420px, max(260px, calc(50vw - var(--spine-gap))));
            max-width: 460px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: var(--radius-lg);
            padding: clamp(18px, 3vw, 28px);
            box-shadow: 0 25px 60px rgba(2, 2, 6, 0.45);
            backdrop-filter: blur(18px);
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .timeline-marker {
            position: relative;
            justify-self: center;
            align-self: center;
            grid-column: 2 / 3;
            width: 12px;
            height: 12px;
            background: var(--progress);
            border-radius: 50%;
            z-index: 20;
            transition: all 0.4s ease;
            box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.06);
        }

        .timeline-item.visible .timeline-marker {
            transform: scale(1.15);
            box-shadow: 0 0 35px rgba(169, 255, 127, 0.35);
        }

        .item-description {
            font-size: 1.05em;
            color: var(--fg);
            line-height: 1.7;
            font-weight: 500;
            letter-spacing: 0.03em;
        }

        .item-photo {
            position: relative;
            overflow: hidden;
            background: #000;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 25px 60px rgba(5, 5, 10, 0.6);
            aspect-ratio: 4 / 3;
            border-radius: var(--radius-sm);
        }

        .item-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            filter: grayscale(20%);
            display: block;
        }

        .item-photo:hover,
        .item-photo:active {
            transform: scale(1.03);
            box-shadow: 0 8px 30px rgba(255, 255, 255, 0.1);
        }

        .item-photo:hover img,
        .item-photo:active img {
            filter: grayscale(0%);
            transform: scale(1.08);
        }

        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(1, 2, 6, 0.96);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .lightbox-content img {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
        }

        .lightbox-caption {
            position: static;
            margin-top: 18px;
            text-align: center;
            color: #ffffff;
            font-size: 1.1em;
            padding: 0 10px;
        }

        .lightbox-close {
            position: fixed;
            top: 30px;
            right: 40px;
            color: var(--fg);
            font-size: 2.2em;
            cursor: pointer;
            z-index: 1001;
            transition: opacity 0.3s ease;
            font-weight: 200;
            background: none;
            border: none;
            line-height: 1;
        }

        .lightbox-close:hover {
            opacity: 0.6;
        }

        .lightbox-close:focus-visible {
            outline: 2px solid rgba(255, 255, 255, 0.7);
            outline-offset: 4px;
        }

        .year-progress {
            position: fixed;
            top: 40px;
            right: 40px;
            color: var(--fg);
            background: rgba(4, 6, 12, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 999px;
            padding: 10px 22px;
            font-size: 0.9em;
            font-weight: 500;
            letter-spacing: 0.25em;
            z-index: 99;
            backdrop-filter: blur(10px);
            transition: opacity 0.35s ease, transform 0.35s ease;
        }

        .discover-container {
            padding: 0 clamp(24px, 6vw, 120px) 80px;
            margin-top: clamp(180px, 16vh, 260px);
            position: relative;
        }

        .discover-hint {
            font-size: 0.95em;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: var(--muted);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .discover-hint::before,
        .discover-hint::after {
            content: "";
            flex: 1;
            height: 1px;
            background: var(--line);
        }

        .discover-track {
            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: clamp(90px, 7vw, 140px);
            gap: clamp(18px, 3vw, 32px);
            justify-items: center;
            overflow-x: auto;
            overflow-y: visible;
            padding: 40px 10px 80px;
            scroll-snap-type: x mandatory;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.4) transparent;
            cursor: grab;
        }

        .discover-track.is-dragging {
            cursor: grabbing;
        }

        .discover-track::-webkit-scrollbar {
            height: 6px;
        }

        .discover-track::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 999px;
        }

        .discover-card {
            position: relative;
            background: linear-gradient(180deg, rgba(8, 11, 20, 0.95), rgba(3, 5, 10, 0.95));
            border-radius: 28px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 24px 14px 40px;
            min-height: 420px;
            width: clamp(96px, 7vw, 150px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            box-shadow: 0 20px 40px rgba(2, 2, 6, 0.65);
            scroll-snap-align: center;
            isolation: isolate;
            overflow: visible;
            transition: transform 1.4s ease;
        }

        .discover-card::after {
            content: "";
            position: absolute;
            inset: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 22px;
            pointer-events: none;
            opacity: 0.6;
        }

        .discover-card.is-expanded {
            transform: translateY(-18px);
            z-index: 5;
            width: clamp(240px, 34vw, 480px);
        }

        .discover-month {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 8px 0 12px;
            text-transform: uppercase;
            letter-spacing: 0.45em;
            font-size: 0.78em;
            color: var(--muted);
            white-space: nowrap;
            border-bottom: 1px solid rgba(255, 255, 255, 0.12);
            margin-bottom: 22px;
        }

        .discover-photo {
            width: 100%;
            aspect-ratio: 4 / 3;
            border-radius: 18px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.45);
            cursor: pointer;
            transition: transform 1.4s ease, box-shadow 1.4s ease, width 1.4s ease, border 1.4s ease;
        }

        .discover-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: grayscale(40%);
            transition: transform 1.6s ease, filter 1.6s ease;
        }

        .discover-card.is-expanded .discover-photo {
            width: clamp(240px, 32vw, 440px);
            border-radius: 22px;
            border-color: rgba(255, 255, 255, 0.35);
            box-shadow: 0 35px 55px rgba(0, 0, 0, 0.65);
        }

        .discover-card.is-expanded .discover-photo img {
            transform: scale(1.08);
            filter: grayscale(0%);
        }

        .discover-detail {
            position: relative;
            margin: 18px auto 0;
            background: rgba(5, 7, 14, 0.92);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            padding: 16px 22px;
            width: clamp(220px, 30vw, 420px);
            text-align: center;
            color: var(--fg);
            font-size: 1em;
            line-height: 1.5;
            letter-spacing: 0.08em;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease, transform 0.6s ease, max-height 0.7s ease;
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
            max-height: 0;
            overflow: hidden;
            transform: translateY(10px);
        }

        .discover-card.is-expanded .discover-detail {
            opacity: 1;
            pointer-events: auto;
            max-height: 260px;
            transform: translateY(0);
        }

        @media (max-width: 768px) {
            .header {
                padding: 20px;
                flex-direction: column;
                align-items: flex-start;
            }

            .header h1 {
                font-size: 1.5em;
                letter-spacing: 0.2em;
            }

            .view-toggle {
                width: 100%;
                justify-content: center;
            }

            .timeline-container {
                padding: 0 20px 90px;
                margin-top: 190px;
            }

            .timeline-line,
            .timeline-progress {
                left: 24px;
                transform: none;
            }

            .timeline-item {
                display: block;
                margin-bottom: 70px;
                padding-left: 40px;
            }

            .timeline-item.left .item-content,
            .timeline-item.right .item-content {
                margin: 0;
                width: 100%;
                max-width: 100%;
                justify-self: stretch;
                text-align: left;
            }

            .timeline-marker {
                position: absolute;
                left: 24px;
                top: 0;
                transform: translate(-50%, 10px);
            }

            .item-description {
                font-size: 1em;
                margin-bottom: 12px;
            }

            .month-title {
                font-size: 1.5em;
                padding: 0 20px;
            }

            .month-divider {
                margin: 40px 0 30px;
            }

            .item-photo {
                border-radius: 8px;
                max-width: 280px;
                margin: 0 auto;
            }

            .lightbox-caption {
                font-size: 1em;
                margin-top: 12px;
            }

            .year-progress {
                display: none;
            }

            .discover-container {
                margin-top: 220px;
                padding: 0 20px 80px;
            }

            .discover-track {
                grid-auto-columns: minmax(110px, 38vw);
                padding: 30px 0 70px;
            }

            .discover-card {
                min-height: 360px;
            }

            .discover-detail {
                width: min(260px, 80vw);
                padding: 14px 16px;
                font-size: 0.95em;
                line-height: 1.4;
                max-height: 200px;
            }
        }
    </style>
</head>
<body class="mode-list">
    <div class="header" role="banner">
        <h1>2025</h1>
        <div class="view-toggle" role="group" aria-label="视图模式">
            <button type="button" class="view-toggle-btn active" data-view="list" aria-pressed="true">LIST</button>
            <button type="button" class="view-toggle-btn" data-view="discover" aria-pressed="false">DISCOVER</button>
        </div>
    </div>

    <div class="year-progress" id="yearProgress">一月</div>

    <div class="timeline-container">
        <div class="timeline-line"></div>
        <div class="timeline-progress" id="timelineProgress"></div>

        <!-- January -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">一月</div>
        </div>

        <div class="timeline-item" data-month="一月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">照顾朋友的狗狗馒头</div>
                <div class="item-photo" data-caption="照顾朋友的狗狗馒头">
                    <img loading="lazy" decoding="async" src="Jan/照顾朋友的狗狗馒头.jpeg" alt="照顾朋友的狗狗馒头">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="一月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">回国前收拾家里</div>
                <div class="item-photo" data-caption="回国前收拾家里">
                    <img loading="lazy" decoding="async" src="Jan/回国前收拾家里.jpeg" alt="回国前收拾家里">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="一月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">开始vibe coding 写一款小游戏</div>
                <div class="item-photo" data-caption="开始vibe coding 写一款小游戏">
                    <img loading="lazy" decoding="async" src="Jan/开始vibe coding 写一款小游戏.jpeg" alt="开始vibe coding 写一款小游戏">
                </div>
            </div>
        </div>

        <!-- February -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">二月</div>
        </div>

        <div class="timeline-item" data-month="二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">回国吃到了宜宾燃面</div>
                <div class="item-photo" data-caption="回国吃到了宜宾燃面">
                    <img loading="lazy" decoding="async" src="Feb/回国吃到了宜宾燃面.jpeg" alt="回国吃到了宜宾燃面">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">家乡</div>
                <div class="item-photo" data-caption="家乡">
                    <img loading="lazy" decoding="async" src="Feb/家乡.jpeg" alt="家乡">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">李庄</div>
                <div class="item-photo" data-caption="李庄">
                    <img loading="lazy" decoding="async" src="Feb/李庄.jpeg" alt="李庄">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">去悉尼出差</div>
                <div class="item-photo" data-caption="去悉尼出差">
                    <img loading="lazy" decoding="async" src="Feb/去悉尼出差.jpeg" alt="去悉尼出差">
                </div>
            </div>
        </div>

        <!-- March -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">三月</div>
        </div>

        <div class="timeline-item" data-month="三月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">开始寄养米米</div>
                <div class="item-photo" data-caption="开始寄养米米">
                    <img loading="lazy" decoding="async" src="Mar/开始寄养米米.jpeg" alt="开始寄养米米">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="三月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">你睡这里那妈妈睡哪里</div>
                <div class="item-photo" data-caption="你睡这里那妈妈睡哪里">
                    <img loading="lazy" decoding="async" src="Mar/你睡这里那妈妈睡哪里.JPG" alt="你睡这里那妈妈睡哪里">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="三月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">跳水咸菜大获成功</div>
                <div class="item-photo" data-caption="跳水咸菜大获成功">
                    <img loading="lazy" decoding="async" src="Mar/跳水咸菜大获成功.JPG" alt="跳水咸菜大获成功">
                </div>
            </div>
        </div>

        <!-- April -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">四月</div>
        </div>

        <div class="timeline-item" data-month="四月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">老火车博物馆</div>
                <div class="item-photo" data-caption="老火车博物馆">
                    <img loading="lazy" decoding="async" src="Apr/老火车博物馆.JPG" alt="老火车博物馆">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="四月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">面点小天才深夜营业</div>
                <div class="item-photo" data-caption="面点小天才深夜营业">
                    <img loading="lazy" decoding="async" src="Apr/面点小天才深夜营业.JPG" alt="面点小天才深夜营业">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="四月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">发现ngv的夹层里藏了一个小小的文艺复兴馆</div>
                <div class="item-photo" data-caption="发现ngv的夹层里藏了一个小小的文艺复兴馆">
                    <img loading="lazy" decoding="async" src="Apr/发现ngv的夹层里藏了一个小小的文艺复兴馆.JPG" alt="发现ngv的夹层里藏了一个小小的文艺复兴馆">
                </div>
            </div>
        </div>

        <!-- May -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">五月</div>
        </div>

        <div class="timeline-item" data-month="五月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">澳洲大选</div>
                <div class="item-photo" data-caption="澳洲大选">
                    <img loading="lazy" decoding="async" src="May/澳洲大选.JPG" alt="澳洲大选">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="五月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">玩双人成行</div>
                <div class="item-photo" data-caption="玩双人成行">
                    <img loading="lazy" decoding="async" src="May/双人成行.JPG" alt="玩双人成行">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="五月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">参加婚礼一</div>
                <div class="item-photo" data-caption="参加婚礼一">
                    <img loading="lazy" decoding="async" src="May/参加婚礼一.JPG" alt="参加婚礼一">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="五月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">参加婚礼二</div>
                <div class="item-photo" data-caption="参加婚礼二">
                    <img loading="lazy" decoding="async" src="May/参加婚礼二.jpeg" alt="参加婚礼二">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="五月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">和 dj去日本过生日</div>
                <div class="item-photo" data-caption="和 dj去日本过生日">
                    <img loading="lazy" decoding="async" src="May/和 dj去日本过生日.JPG" alt="和 dj去日本过生日">
                </div>
            </div>
        </div>

        <!-- June -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">六月</div>
        </div>

        <div class="timeline-item" data-month="六月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">做手工戒指</div>
                <div class="item-photo" data-caption="做手工戒指">
                    <img loading="lazy" decoding="async" src="Jun/做手工戒指.JPG" alt="做手工戒指">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="六月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">出差悉尼</div>
                <div class="item-photo" data-caption="出差悉尼">
                    <img loading="lazy" decoding="async" src="Jun/出差悉尼.JPG" alt="出差悉尼">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="六月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">买了本有意思的书</div>
                <div class="item-photo" data-caption="买了本有意思的书">
                    <img loading="lazy" decoding="async" src="Jun/买了本有意思的书.JPG" alt="买了本有意思的书">
                </div>
            </div>
        </div>

        <!-- July -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">七月</div>
        </div>

        <div class="timeline-item" data-month="七月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">去巴拉瑞特 xams in July</div>
                <div class="item-photo" data-caption="去巴拉瑞特 xams in July">
                    <img loading="lazy" decoding="async" src="Jul/去巴拉瑞特 xams in July.JPG" alt="去巴拉瑞特 xams in July">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="七月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">淘金镇灯光秀</div>
                <div class="item-photo" data-caption="淘金镇灯光秀">
                    <img loading="lazy" decoding="async" src="Jul/淘金镇灯光秀.JPG" alt="淘金镇灯光秀">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="七月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">养成逛二手店的习惯</div>
                <div class="item-photo" data-caption="养成逛二手店的习惯">
                    <img loading="lazy" decoding="async" src="Jul/养成逛二手店的习惯.JPG" alt="养成逛二手店的习惯">
                </div>
            </div>
        </div>

        <!-- August -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">八月</div>
        </div>

        <div class="timeline-item" data-month="八月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">酒宝到家</div>
                <div class="item-photo" data-caption="酒宝到家">
                    <img loading="lazy" decoding="async" src="Aug/酒宝到家.JPG" alt="酒宝到家">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="八月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">公主们下楼</div>
                <div class="item-photo" data-caption="公主们下楼">
                    <img loading="lazy" decoding="async" src="Aug/公主们下楼.JPG" alt="公主们下楼">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="八月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">DJ悉尼出差</div>
                <div class="item-photo" data-caption="DJ悉尼出差">
                    <img loading="lazy" decoding="async" src="Aug/DJ悉尼出差.JPG" alt="DJ悉尼出差">
                </div>
            </div>
        </div>

        <!-- September -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">九月</div>
        </div>

        <div class="timeline-item" data-month="九月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">布鲁斯隆重登场</div>
                <div class="item-photo" data-caption="布鲁斯隆重登场">
                    <img loading="lazy" decoding="async" src="Sep/布鲁斯隆重登场.JPG" alt="布鲁斯隆重登场">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="九月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">好吃</div>
                <div class="item-photo" data-caption="好吃">
                    <img loading="lazy" decoding="async" src="Sep/好吃.jpeg" alt="好吃">
                </div>
            </div>
        </div>

        <!-- October -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">十月</div>
        </div>

        <div class="timeline-item" data-month="十月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">买了乐高柜子</div>
                <div class="item-photo" data-caption="买了乐高柜子">
                    <img loading="lazy" decoding="async" src="Oct/买了乐高柜子.JPG" alt="买了乐高柜子">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">赛博小狗</div>
                <div class="item-photo" data-caption="赛博小狗">
                    <img loading="lazy" decoding="async" src="Oct/赛博小狗.JPG" alt="赛博小狗">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">贴片木画</div>
                <div class="item-photo" data-caption="贴片木画">
                    <img loading="lazy" decoding="async" src="Oct/贴片木画.JPG" alt="贴片木画">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">湖边的乌鸦为阿玛尼代言</div>
                <div class="item-photo" data-caption="湖边的乌鸦为阿玛尼代言">
                    <img loading="lazy" decoding="async" src="Oct/为阿玛尼代言.JPG" alt="湖边的乌鸦为阿玛尼代言">
                </div>
            </div>
        </div>

        <!-- November -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">十一月</div>
        </div>

        <div class="timeline-item" data-month="十一月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">绿洲乐队来墨尔本</div>
                <div class="item-photo" data-caption="绿洲乐队来墨尔本">
                    <img loading="lazy" decoding="async" src="Nov/绿洲乐队来墨尔本.JPG" alt="绿洲乐队来墨尔本">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十一月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">布鲁斯做活检</div>
                <div class="item-photo" data-caption="布鲁斯做活检">
                    <img loading="lazy" decoding="async" src="Nov/布鲁斯做活检.JPG" alt="布鲁斯做活检">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十一月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">搬家</div>
                <div class="item-photo" data-caption="搬家">
                    <img loading="lazy" decoding="async" src="Nov/搬家.JPG" alt="搬家">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十一月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">brighter tech award</div>
                <div class="item-photo" data-caption="brighter tech award">
                    <img loading="lazy" decoding="async" src="Nov/brighter tech award.JPG" alt="brighter tech award">
                </div>
            </div>
        </div>

        <!-- December -->
        <div class="month-divider">
            <div class="month-divider-line"></div>
            <div class="month-title">十二月</div>
        </div>

        <div class="timeline-item" data-month="十二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">哄骗小狗吃药</div>
                <div class="item-photo" data-caption="哄骗小狗吃药">
                    <img loading="lazy" decoding="async" src="Dec/哄骗小狗吃药.JPG" alt="哄骗小狗吃药">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">邻居圣诞装饰</div>
                <div class="item-photo" data-caption="邻居圣诞装饰">
                    <img loading="lazy" decoding="async" src="Dec/邻居圣诞装饰.JPG" alt="邻居圣诞装饰">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">另一个邻居圣诞装饰</div>
                <div class="item-photo" data-caption="另一个邻居圣诞装饰">
                    <img loading="lazy" decoding="async" src="Dec/另一个邻居的圣诞装饰.JPG" alt="另一个邻居圣诞装饰">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">大家好这是我祖宗</div>
                <div class="item-photo" data-caption="大家好这是我祖宗">
                    <img loading="lazy" decoding="async" src="Dec/大家好这是我祖宗.JPG" alt="大家好这是我祖宗">
                </div>
            </div>
        </div>

        <div class="timeline-item" data-month="十二月">
            <div class="timeline-marker"></div>
            <div class="item-content">
                <div class="item-description">祖宗第一次看到大海</div>
                <div class="item-photo" data-caption="祖宗第一次看到大海">
                    <img loading="lazy" decoding="async" src="Dec/祖宗第一次看到大海.JPG" alt="祖宗第一次看到大海">
                </div>
            </div>
        </div>
    </div>

    <div class="discover-container" aria-hidden="true">
        <div class="discover-hint" aria-label="左右滑动">→</div>
        <div class="discover-track" id="discoverTrack"></div>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <button class="lightbox-close" type="button" aria-label="关闭灯箱">×</button>
        <div class="lightbox-content">
            <img id="lightbox-img" src="" alt="">
            <div class="lightbox-caption" id="lightbox-caption"></div>
        </div>
    </div>

    <script>
        const timelineContainer = document.querySelector('.timeline-container');
        const timelineProgress = document.getElementById('timelineProgress');
        const timelineItems = Array.from(document.querySelectorAll('.timeline-item'));
        const monthDividers = Array.from(document.querySelectorAll('.month-divider'));
        const revealElements = Array.from(document.querySelectorAll('.timeline-item, .month-divider'));
        const monthDisplay = document.getElementById('yearProgress');
        const viewToggleButtons = document.querySelectorAll('[data-view]');
        const discoverTrack = document.getElementById('discoverTrack');
        const discoverContainer = document.querySelector('.discover-container');
        const originalBodyOverflow = document.body.style.overflow;
        let discoverBuilt = false;
        let currentView = document.body.classList.contains('mode-discover') ? 'discover' : 'list';
        let photoSequence = 0;
        let expandedDiscoverCard = null;
        let discoverCards = [];
        let discoverScrollRaf = null;

        if (discoverTrack) {
            discoverTrack.addEventListener('wheel', (event) => {
                if (!document.body.classList.contains('mode-discover')) return;
                if (Math.abs(event.deltaY) <= Math.abs(event.deltaX)) return;
                event.preventDefault();
                discoverTrack.scrollLeft += event.deltaY;
                scheduleDiscoverFocus();
            }, { passive: false });

            let dragActive = false;
            let dragPointerId = null;
            let dragStartX = 0;
            let dragScrollStart = 0;

            const endDrag = () => {
                if (dragActive && dragPointerId !== null) {
                    discoverTrack.releasePointerCapture(dragPointerId);
                }
                dragActive = false;
                dragPointerId = null;
                discoverTrack.classList.remove('is-dragging');
                scheduleDiscoverFocus();
            };

            discoverTrack.addEventListener('pointerdown', (event) => {
                if (!document.body.classList.contains('mode-discover')) return;
                dragActive = true;
                dragPointerId = event.pointerId;
                dragStartX = event.clientX;
                dragScrollStart = discoverTrack.scrollLeft;
                discoverTrack.setPointerCapture(dragPointerId);
                discoverTrack.classList.add('is-dragging');
            });

            discoverTrack.addEventListener('pointermove', (event) => {
                if (!dragActive || event.pointerId !== dragPointerId) return;
                discoverTrack.scrollLeft = dragScrollStart - (event.clientX - dragStartX);
                scheduleDiscoverFocus();
            });

            discoverTrack.addEventListener('pointerup', endDrag);
            discoverTrack.addEventListener('pointerleave', endDrag);
            discoverTrack.addEventListener('pointercancel', endDrag);

            discoverTrack.addEventListener('scroll', () => {
                if (!document.body.classList.contains('mode-discover')) return;
                scheduleDiscoverFocus();
            });
        }

        timelineItems.forEach((item, index) => {
            item.classList.add(index % 2 === 0 ? 'left' : 'right');
        });

        let activeMonth = monthDividers[0]?.querySelector('.month-title')?.textContent.trim() || '一月';
        refreshMonthDisplay();

        if ('IntersectionObserver' in window) {
            const monthObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const title = entry.target.querySelector('.month-title');
                        const label = title ? title.textContent.trim() : null;
                        if (label && label !== activeMonth) {
                            activeMonth = label;
                            refreshMonthDisplay();
                        }
                    }
                });
            }, { rootMargin: '-40% 0px -40% 0px', threshold: 0 });

            monthDividers.forEach(divider => monthObserver.observe(divider));
        } else {
            const fallbackUpdateMonth = () => {
                let candidate = activeMonth;
                const anchor = window.innerHeight * 0.3;
                monthDividers.forEach(divider => {
                    const rect = divider.getBoundingClientRect();
                    if (rect.top < anchor && rect.bottom > 0) {
                        const title = divider.querySelector('.month-title');
                        if (title) {
                            candidate = title.textContent.trim();
                        }
                    }
                });
                if (candidate !== activeMonth) {
                    activeMonth = candidate;
                    refreshMonthDisplay();
                }
            };

            window.addEventListener('scroll', fallbackUpdateMonth);
            window.addEventListener('resize', fallbackUpdateMonth);
        }

        // 滚动进度与入场动画
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    updateProgress();
                    ticking = false;
                });
                ticking = true;
            }
        });

        window.addEventListener('resize', updateProgress);

        function updateProgress() {
            if (!timelineContainer) return;

            const containerTop = timelineContainer.offsetTop;
            const containerHeight = timelineContainer.offsetHeight;
            const viewportAnchor = window.scrollY + window.innerHeight * 0.3;
            const progressHeight = Math.min(Math.max(viewportAnchor - containerTop, 0), containerHeight);
            timelineProgress.style.height = progressHeight + 'px';

            revealElements.forEach(element => {
                if (element.classList.contains('visible')) return;
                const rect = element.getBoundingClientRect();
                if (rect.top < window.innerHeight * 0.7) {
                    element.classList.add('visible');
                }
            });
        }

        window.addEventListener('load', updateProgress);
        updateProgress();

        // 照片灯箱与无障碍增强
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxCaption = document.getElementById('lightbox-caption');
        const lightboxClose = document.querySelector('.lightbox-close');
        let activePhotoTrigger = null;

        function openLightbox(item) {
            const img = item.querySelector('img');
            const caption = item.dataset.caption || '图片';

            if (img) {
                lightboxImg.src = img.src;
                lightboxImg.alt = img.alt || caption;
            }

            lightboxCaption.textContent = caption;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
            activePhotoTrigger = item;
            if (lightboxClose) {
                lightboxClose.focus();
            }
        }

        function wirePhotoItem(item) {
            if (!item || item.dataset.lightboxReady === 'true') return;
            photoSequence += 1;
            const fallback = `照片 ${photoSequence}`;
            const caption = (item.dataset.caption || '').trim() || fallback;
            const img = item.querySelector('img');

            if (img) {
                img.loading = 'lazy';
                img.decoding = 'async';
            }

            item.setAttribute('role', 'button');
            item.setAttribute('tabindex', '0');
            item.setAttribute('aria-label', caption);
            item.dataset.lightboxReady = 'true';

            item.addEventListener('click', () => openLightbox(item));
            item.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    openLightbox(item);
                }
            });
        }

        document.querySelectorAll('.item-photo').forEach(item => wirePhotoItem(item));

        const isDiscoverActive = () => currentView === 'discover';

        function refreshDiscoverCardCache() {
            if (!discoverTrack) return;
            discoverCards = Array.from(discoverTrack.querySelectorAll('.discover-card'));
        }

        function scheduleDiscoverFocus() {
            if (!isDiscoverActive()) return;
            if (discoverScrollRaf) return;
            discoverScrollRaf = window.requestAnimationFrame(() => {
                discoverScrollRaf = null;
                updateDiscoverFocus();
            });
        }

        function centerDiscoverCard(card, behavior = 'auto') {
            if (!discoverTrack || !card) return;
            const trackRect = discoverTrack.getBoundingClientRect();
            const cardRect = card.getBoundingClientRect();
            const offsetLeft = cardRect.left - trackRect.left;
            const targetLeft = offsetLeft - (trackRect.width - cardRect.width) / 2;
            discoverTrack.scrollTo({ left: targetLeft, behavior });
        }

        function updateDiscoverFocus() {
            if (!discoverTrack) return;
            if (!discoverCards.length) {
                refreshDiscoverCardCache();
            }
            if (!discoverCards.length) return;

            const trackRect = discoverTrack.getBoundingClientRect();
            const anchorX = trackRect.left + trackRect.width / 2;
            let closestCard = null;
            let closestDistance = Infinity;

            discoverCards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const center = rect.left + rect.width / 2;
                const distance = Math.abs(center - anchorX);
                if (distance < closestDistance) {
                    closestDistance = distance;
                    closestCard = card;
                }
            });

            if (closestCard) {
                setExpandedDiscoverCard(closestCard);
            }
        }

        function setExpandedDiscoverCard(card) {
            if (!isDiscoverActive()) return;
            if (expandedDiscoverCard === card) return;
            if (expandedDiscoverCard) {
                expandedDiscoverCard.classList.remove('is-expanded');
            }
            expandedDiscoverCard = card;
            if (card) {
                card.classList.add('is-expanded');
            }
        }

        function collapseDiscoverCard(targetCard) {
            if (targetCard && expandedDiscoverCard !== targetCard) {
                return;
            }
            if (expandedDiscoverCard) {
                expandedDiscoverCard.classList.remove('is-expanded');
                expandedDiscoverCard = null;
            }
        }

        function closeLightbox() {
            lightbox.classList.remove('active');
            document.body.style.overflow = originalBodyOverflow || '';
            if (activePhotoTrigger) {
                activePhotoTrigger.focus();
                activePhotoTrigger = null;
            }
        }

        if (lightboxClose) {
            lightboxClose.addEventListener('click', closeLightbox);
        }

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });

        lightbox.addEventListener('keydown', (e) => {
            if (e.key === 'Tab' && lightbox.classList.contains('active')) {
                e.preventDefault();
                lightboxClose?.focus();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && lightbox.classList.contains('active')) {
                closeLightbox();
            }
        });

        function extractPhotoData(item, index) {
            if (!item) return null;
            const descriptionEl = item.querySelector('.item-description');
            const description = descriptionEl ? descriptionEl.textContent.trim() : `照片 ${index + 1}`;
            const img = item.querySelector('img');
            if (!img) return null;
            const src = img.getAttribute('src');
            if (!src) return null;
            const month = item.dataset.month || '';
            return {
                month,
                description,
                caption: month ? `${month} · ${description}` : description,
                src,
                alt: img.getAttribute('alt') || description
            };
        }

        function createDiscoverCard(data) {
            const card = document.createElement('article');
            card.className = 'discover-card';

            const monthLabel = document.createElement('p');
            monthLabel.className = 'discover-month';
            monthLabel.textContent = data.month || '——';

            const photoWrap = document.createElement('div');
            photoWrap.className = 'discover-photo';
            photoWrap.dataset.caption = data.caption;

            const img = document.createElement('img');
            img.src = data.src;
            img.alt = data.alt;
            img.loading = 'lazy';
            img.decoding = 'async';
            photoWrap.appendChild(img);

            const detail = document.createElement('div');
            detail.className = 'discover-detail';
            detail.textContent = data.description;

            card.append(monthLabel, photoWrap, detail);
            wirePhotoItem(photoWrap);

            card.addEventListener('focusin', () => setExpandedDiscoverCard(card));
            card.addEventListener('focusout', (event) => {
                if (!card.contains(event.relatedTarget)) {
                    collapseDiscoverCard(card);
                }
            });

            return card;
        }

        function ensureDiscoverView() {
            if (!discoverTrack) return;
            if (!discoverBuilt) {
                const fragment = document.createDocumentFragment();
                timelineItems.forEach((item, index) => {
                    const data = extractPhotoData(item, index);
                    if (!data) return;
                    fragment.appendChild(createDiscoverCard(data));
                });
                discoverTrack.appendChild(fragment);
                discoverBuilt = true;
            }
            refreshDiscoverCardCache();
        }

        function refreshMonthDisplay() {
            if (!monthDisplay) return;
            monthDisplay.textContent = currentView === 'discover' ? 'DISCOVER' : activeMonth;
        }

        function updateViewMode(mode = 'list') {
            const normalized = mode === 'discover' ? 'discover' : 'list';
            currentView = normalized;

            document.body.classList.toggle('mode-discover', normalized === 'discover');
            document.body.classList.toggle('mode-list', normalized === 'list');

            viewToggleButtons.forEach(btn => {
                const isActive = btn.dataset.view === normalized;
                btn.classList.toggle('active', isActive);
                btn.setAttribute('aria-pressed', String(isActive));
            });

            if (discoverContainer) {
                discoverContainer.setAttribute('aria-hidden', String(normalized !== 'discover'));
            }

            if (normalized === 'discover') {
                ensureDiscoverView();
                refreshDiscoverCardCache();
                if (discoverTrack) {
                    discoverTrack.scrollLeft = 0;
                }
                const firstCard = discoverCards[0];
                if (firstCard) {
                    window.requestAnimationFrame(() => {
                        centerDiscoverCard(firstCard);
                        setExpandedDiscoverCard(firstCard);
                    });
                } else {
                    scheduleDiscoverFocus();
                }
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                collapseDiscoverCard();
            }

            refreshMonthDisplay();
        }

        viewToggleButtons.forEach(button => {
            button.addEventListener('click', () => {
                updateViewMode(button.dataset.view || 'list');
            });
        });

        updateViewMode(currentView);

        window.addEventListener('resize', () => {
            if (isDiscoverActive()) {
                scheduleDiscoverFocus();
            }
        });
    </script>
</body>
</html>
